["{\"nodes\":{\"AddRelativeCurrency_MCOnly\":{\"action\":\"computeRelative\",\"parameters\":{\"computedFields\":[{\"expression\":{\"offset\":\"first()\",\"sourceField\":\"ConversionRate\",\"default\":\"current()\"},\"label\":\"OffsetConversionRate\",\"name\":\"OffsetConversionRate\"}],\"orderBy\":[{\"direction\":\"asc\",\"name\":\"SortOrder\"}],\"partitionBy\":[\"Partition\"]},\"sources\":[\"AppendCurrency_MCOnly\"]},\"PrepareForecastingPrediction\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"format\":\"yyyy-MM-dd\",\"label\":\"Date\",\"name\":\"Date\",\"saqlExpression\":\"toDate('Period.EndDate', \\\"yyyy-MM-dd\\\")\",\"type\":\"Date\"},{\"label\":\"Value\",\"name\":\"Value\",\"precision\":18,\"saqlExpression\":\"Amount\",\"scale\":5,\"type\":\"Numeric\"},{\"label\":\"Type\",\"name\":\"Type\",\"saqlExpression\":\"\\\"Prediction\\\"\",\"type\":\"Text\"},{\"label\":\"Period_ID\",\"name\":\"Period_ID\",\"saqlExpression\":\"PeriodId\",\"type\":\"Text\"},{\"label\":\"ForecastingType_ID\",\"name\":\"ForecastingType_ID\",\"saqlExpression\":\"ForecastingTypeId\",\"type\":\"Text\"},{\"label\":\"Owner_ID\",\"name\":\"Owner_ID\",\"saqlExpression\":\"ForecastOwnerId\",\"type\":\"Text\"},{\"label\":\"Category\",\"name\":\"Category\",\"saqlExpression\":\"\\\"Prediction\\\"\",\"type\":\"Text\"},{\"label\":\"ValueLowerBound\",\"name\":\"ValueLowerBound\",\"precision\":18,\"saqlExpression\":\"AmountLowerBound\",\"scale\":5,\"type\":\"Numeric\"},{\"label\":\"ValueHigherBound\",\"name\":\"ValueHigherBound\",\"precision\":18,\"saqlExpression\":\"AmountHigherBound\",\"scale\":5,\"type\":\"Numeric\"}],\"mergeWithSource\":false},\"sources\":[\"join(ForecastingPrediction, Period)\"]},\"Register_Period\":{\"action\":\"register\",\"parameters\":{\"label\":\"Period\",\"name\":\"Period\"},\"sources\":[\"Extract_Period\"]},\"Extract_CurrencyType_MCOnly\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"ConversionRate\"},{\"name\":\"IsoCode\"},{\"name\":\"IsCorporate\"},{\"name\":\"IsActive\"}],\"object\":\"CurrencyType\"}},\"PrepareForecastingItem\":{\"action\":\"append\",\"parameters\":{},\"sources\":[\"NormalizeAmountWithoutManagerAdjustment\",\"NormalizeForecastAmount\"]},\"RemoveOriginalAmountColumns_FirstDay\":{\"action\":\"sliceDataset\",\"parameters\":{\"fields\":[{\"name\":\"AmountWithoutManagerAdjustment__hst\"},{\"name\":\"ForecastAmount__hst\"}],\"mode\":\"drop\"},\"sources\":[\"append_ForecastingItemHistory_FirstDayOfMonth_FirstDay\"]},\"Register_Users\":{\"action\":\"register\",\"parameters\":{\"label\":\"User\",\"name\":\"User\"},\"sources\":[\"join(User,MgrRole)\"]},\"filterOneItemHistoryPerDay_FirstDay\":{\"action\":\"filter\",\"parameters\":{\"filter\":\"IsSameCreatedDate_FirstDay:EQ:true\"},\"sources\":[\"CompareLastCreatedDate_FirstDay\"]},\"joinForecastingQuotaWithPeriod\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"PeriodId\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"Period\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"EndDate\"]},\"sources\":[\"Filter_ForecastingQuota\",\"Extract_Period\"]},\"Filter_ForecastingPrediction\":{\"action\":\"filter\",\"parameters\":{\"filter\":\"ForecastingTypeId:EQ:0Db2w000008qZO1CAM\"},\"sources\":[\"Extract_ForecastingPrediction\"]},\"join(User,MgrRole)\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"Role.ParentRoleId\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"MgrRole\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"ForecastUserId\"]},\"sources\":[\"join(Users,UserRole)\",\"Extract_UserRole\"]},\"Filter_ForecastingPredictionTrend\":{\"action\":\"filter\",\"parameters\":{\"filter\":\"ForecastingTypeId:EQ:0Db2w000008qZO1CAM\"},\"sources\":[\"Extract_ForecastingPredictionTrend\"]},\"RemoveLastCreatedDateColumn_FirstDay\":{\"action\":\"sliceDataset\",\"parameters\":{\"fields\":[{\"name\":\"EarliestCreatedDate_FirstDay\"},{\"name\":\"GroupBy_FirstDay\"},{\"name\":\"LastCreatedDate_FirstDay\"},{\"name\":\"IsSameCreatedDate_FirstDay\"},{\"name\":\"CreatedDate\"}],\"mode\":\"drop\"},\"sources\":[\"filterOneItemHistoryPerDay_FirstDay\"]},\"Filter_ForecastingQuota\":{\"action\":\"filter\",\"parameters\":{\"filter\":\"ForecastingTypeId:EQ:0Db2w000008qZO1CAM\"},\"sources\":[\"Extract_ForecastingQuota\"]},\"join(Users,UserRole)\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"UserRoleId\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"Role\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"ParentRoleId\",\"ForecastUserId\"]},\"sources\":[\"Filter_ForecastEnabled_Users\",\"Extract_UserRole\"]},\"CalculateRelativeCurrency_MCOnly\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"defaultValue\":\"1\",\"label\":\"NewConversionRate\",\"name\":\"NewConversionRate\",\"precision\":15,\"saqlExpression\":\"ConversionRate/OffsetConversionRate\",\"scale\":10,\"type\":\"Numeric\"}],\"mergeWithSource\":true},\"sources\":[\"AddRelativeCurrency_MCOnly\"]},\"join(ForecastingItemHistory,ForecastingItem,Period)\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"ParentId\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"Parent\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"ForecastingItemCategory\",\"OwnerId\",\"PeriodId\",\"ForecastingTypeId\",\"PeriodId.EndDate\",\"PeriodId.StartDate\"]},\"sources\":[\"Extract_ForecastingItemHistory\",\"join(ForecastingItem, Period)\"]},\"GenerateAsOfDateColumn_FirstDay\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"format\":\"yyyy-MM-dd\",\"label\":\"AsOfDate_FirstDay\",\"name\":\"AsOfDate_FirstDay\",\"saqlExpression\":\"case when toDate(CreatedDate_Year+\\\"-\\\"+CreatedDate_Month+\\\"-\\\"+CreatedDate_Day,\\\"yyyy-MM-dd\\\") < toDate('Parent.PeriodId.StartDate',\\\"yyyy-MM-dd\\\") then toDate('Parent.PeriodId.StartDate',\\\"yyyy-MM-dd\\\") else toDate(CreatedDate_Year+\\\"-\\\"+CreatedDate_Month+\\\"-\\\"+CreatedDate_Day,\\\"yyyy-MM-dd\\\")  end\",\"type\":\"Date\"},{\"format\":\"yyyy-MM-dd HH:mm:ss\",\"label\":\"EarliestCreatedDate_FirstDay\",\"name\":\"EarliestCreatedDate_FirstDay\",\"saqlExpression\":\"toDate(CreatedDate_Year+\\\"-\\\"+CreatedDate_Month+\\\"-\\\"+CreatedDate_Day+\\\" \\\"+CreatedDate_Hour+\\\":\\\"+CreatedDate_Minute+\\\":\\\"+CreatedDate_Second,\\\"yyyy-MM-dd HH:mm:ss\\\")\",\"type\":\"Date\"},{\"label\":\"ForecastAmount_hst\",\"name\":\"ForecastAmount_hst\",\"precision\":18,\"saqlExpression\":\"ForecastAmount__hst\",\"scale\":5,\"type\":\"Numeric\"},{\"label\":\"AmountWithoutManagerAdjustment_hst\",\"name\":\"AmountWithoutManagerAdjustment_hst\",\"precision\":18,\"saqlExpression\":\"AmountWithoutManagerAdjustment__hst\",\"scale\":5,\"type\":\"Numeric\"}],\"mergeWithSource\":true},\"sources\":[\"Filter_join(ForecastingItemHistory,ForecastingItem,Period)\"]},\"filterFirstDayOfMonth_FirstDay\":{\"action\":\"filter\",\"parameters\":{\"filter\":\"IsSameCreatedDate_FirstDay:EQ:true\"},\"sources\":[\"CompareFirstCreatedDate_FirstDay\"]},\"Extract_ForecastingQuota\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"QuotaAmount\"},{\"name\":\"QuotaOwnerId\"},{\"name\":\"PeriodId\"},{\"name\":\"ForecastingTypeId\"}],\"object\":\"ForecastingQuota\"}},\"appendAllForecastingData\":{\"action\":\"append\",\"parameters\":{},\"sources\":[\"PrepareForecastingItem\",\"PreparePredictionTrend\",\"PrepareForecastingQuota\",\"PrepareForecastingPrediction\"]},\"PrepareAnalyticsUserForAppend_MCOnly\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"label\":\"Analytics User Currency\",\"name\":\"CurrencyCode\",\"saqlExpression\":\"\\\"A_U_C\\\"\",\"type\":\"Text\"},{\"defaultValue\":\"1\",\"label\":\"ConversionRate\",\"name\":\"ConversionRate\",\"precision\":10,\"saqlExpression\":\"'Currency.ConversionRate'\",\"scale\":2,\"type\":\"Numeric\"},{\"defaultValue\":\"1\",\"label\":\"SortOrder\",\"name\":\"SortOrder\",\"precision\":1,\"saqlExpression\":\"1\",\"scale\":0,\"type\":\"Numeric\"},{\"label\":\"Partition\",\"name\":\"Partition\",\"saqlExpression\":\"\\\"Partition1\\\"\",\"type\":\"Text\"},{\"label\":\"IsCorporate\",\"name\":\"IsCorporate\",\"saqlExpression\":\"\\\"false\\\"\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"Augment_AnalyticsUser_Currency_MCOnly\"]},\"Extract_ForecastingItem\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Id\"},{\"name\":\"AmountWithoutManagerAdjustment\"},{\"name\":\"ForecastAmount\"},{\"name\":\"ForecastingItemCategory\"},{\"name\":\"OwnerId\"},{\"name\":\"PeriodId\"},{\"name\":\"ForecastingTypeId\"}],\"object\":\"ForecastingItem\",\"runtime\":{\"SFDCtoken\":\"SFDCtoken\"}}},\"flatten(ForecastHierarchy)\":{\"action\":\"flatten\",\"parameters\":{\"includeSelfId\":false,\"multiField\":{\"isSystemField\":false,\"label\":\"Managers\",\"name\":\"Managers\"},\"parentField\":\"MgrRole.ForecastUserId\",\"pathField\":{\"isSystemField\":false,\"label\":\"ManagerPath\",\"name\":\"ManagerPath\"},\"selfField\":\"Id\"},\"sources\":[\"join(User,MgrRole)\"]},\"Register_CurrencyFormat_MCOnly\":{\"action\":\"register\",\"parameters\":{\"label\":\"CurrencyType\",\"name\":\"CurrencyType\"},\"sources\":[\"TrimBackToCurrencyType_MCOnly\"]},\"NormalizeForecastAmount\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"format\":\"yyyy-MM-dd\",\"label\":\"Date\",\"name\":\"Date\",\"saqlExpression\":\"toDate(AsOfDate_FirstDay, \\\"yyyy-MM-dd\\\")\",\"type\":\"Date\"},{\"label\":\"Value\",\"name\":\"Value\",\"precision\":18,\"saqlExpression\":\"ForecastAmount_hst\",\"scale\":5,\"type\":\"Numeric\"},{\"label\":\"Type\",\"name\":\"Type\",\"saqlExpression\":\"\\\"ForecastAmount\\\"\",\"type\":\"Text\"},{\"label\":\"Period_ID\",\"name\":\"Period_ID\",\"saqlExpression\":\"'Parent.PeriodId'\",\"type\":\"Text\"},{\"label\":\"ForecastingType_ID\",\"name\":\"ForecastingType_ID\",\"saqlExpression\":\"'Parent.ForecastingTypeId'\",\"type\":\"Text\"},{\"label\":\"Owner_ID\",\"name\":\"Owner_ID\",\"saqlExpression\":\"'Parent.OwnerId'\",\"type\":\"Text\"},{\"label\":\"Category\",\"name\":\"Category\",\"saqlExpression\":\"'Parent.ForecastingItemCategory'\",\"type\":\"Text\"},{\"label\":\"ValueHigherBound\",\"name\":\"ValueHigherBound\",\"precision\":18,\"saqlExpression\":\"ForecastAmount_hst\",\"scale\":5,\"type\":\"Numeric\"},{\"label\":\"ValueLowerBound\",\"name\":\"ValueLowerBound\",\"precision\":18,\"saqlExpression\":\"ForecastAmount_hst\",\"scale\":5,\"type\":\"Numeric\"}],\"mergeWithSource\":false},\"sources\":[\"RemoveLastCreatedDateColumn_FirstDay\"]},\"Filter_CurrencyType_MCOnly\":{\"action\":\"filter\",\"parameters\":{\"filter\":\"IsActive:EQ:true\"},\"sources\":[\"Extract_CurrencyType_MCOnly\"]},\"Trim_PrepareAnalyticsUserForAppend_MCOnly\":{\"action\":\"sliceDataset\",\"parameters\":{\"fields\":[{\"name\":\"Id\"},{\"name\":\"CurrencyCode\"},{\"name\":\"ConversionRate\"},{\"name\":\"SortOrder\"},{\"name\":\"Partition\"},{\"name\":\"IsCorporate\"}],\"mode\":\"select\"},\"sources\":[\"PrepareAnalyticsUserForAppend_MCOnly\"]},\"ModifyCurrencyTypeIsoCode_MCOnly\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"label\":\"Currency Code\",\"name\":\"CurrencyCode\",\"saqlExpression\":\"substr('IsoCode', 1, 3)\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"Filter_CurrencyType_MCOnly\"]},\"GenerateGroupByColumn_FirstDay\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"label\":\"GroupBy_FirstDay\",\"name\":\"GroupBy_FirstDay\",\"saqlExpression\":\"ParentId+\\\"_\\\"+AsOfDate_FirstDay\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"RemoveOriginalAmountColumns_FirstDay\"]},\"Filter_ForecastingItem\":{\"action\":\"filter\",\"parameters\":{\"filter\":\"ForecastingTypeId:EQ:0Db2w000008qZO1CAM\"},\"sources\":[\"Extract_ForecastingItem\"]},\"RemoveFirstCreatedDateColumn_FirstDay\":{\"action\":\"sliceDataset\",\"parameters\":{\"fields\":[{\"name\":\"FirstCreatedDate_FirstDay\"},{\"name\":\"IsSameCreatedDate_FirstDay\"}],\"mode\":\"drop\"},\"sources\":[\"filterFirstDayOfMonth_FirstDay\"]},\"join(ForecastingPrediction, Period)\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"PeriodId\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"Period\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"EndDate\"]},\"sources\":[\"Filter_ForecastingPrediction\",\"Extract_Period\"]},\"Extract_Users\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Id\"},{\"name\":\"Username\"},{\"name\":\"Name\"},{\"name\":\"FirstName\"},{\"name\":\"LastName\"},{\"name\":\"UserRoleId\"},{\"name\":\"FullPhotoUrl\"},{\"name\":\"SmallPhotoUrl\"},{\"name\":\"ForecastEnabled\"},{\"name\":\"DefaultCurrencyIsoCode\"}],\"object\":\"User\",\"runtime\":{\"SFDCtoken\":\"SFDCtoken\"}}},\"Augment_AnalyticsUser_Currency_MCOnly\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"DefaultCurrencyIsoCode\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"Currency\",\"rightKey\":[\"CurrencyCode\"],\"rightSelect\":[\"ConversionRate\"]},\"sources\":[\"Filter_AnalyticsUser_MCOnly\",\"ModifyCurrencyTypeIsoCode_MCOnly\"]},\"TrimBackToCurrencyType_MCOnly\":{\"action\":\"sliceDataset\",\"parameters\":{\"fields\":[{\"name\":\"CurrencyCode\"},{\"name\":\"NewConversionRate\"},{\"name\":\"IsCorporate\"}],\"mode\":\"select\"},\"sources\":[\"CalculateRelativeCurrency_MCOnly\"]},\"GroupItemHistoryPerDay_FirstDay\":{\"action\":\"computeRelative\",\"parameters\":{\"computedFields\":[{\"expression\":{\"offset\":\"first()\",\"sourceField\":\"EarliestCreatedDate_FirstDay\",\"default\":\"current()\"},\"label\":\"LastCreatedDate_FirstDay\",\"name\":\"LastCreatedDate_FirstDay\"}],\"orderBy\":[{\"direction\":\"desc\",\"name\":\"EarliestCreatedDate_FirstDay\"}],\"partitionBy\":[\"GroupBy_FirstDay\"]},\"sources\":[\"GenerateGroupByColumn_FirstDay\"]},\"Extract_ForecastingItemHistory\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"AmountWithoutManagerAdjustment__hst\"},{\"name\":\"CreatedDate\"},{\"name\":\"ForecastAmount__hst\"},{\"name\":\"Id\"},{\"name\":\"ParentId\"}],\"object\":\"ForecastingItem__hd\"}},\"join(ForecastingDataWithFlattenForecastHierarchy)\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"Owner_ID\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"Manager\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\",\"UserRoleId\",\"Managers\"]},\"sources\":[\"appendAllForecastingData\",\"flatten(ForecastHierarchy)\"]},\"Register_ForecastingData\":{\"action\":\"register\",\"parameters\":{\"label\":\"ForecastingData\",\"name\":\"ForecastingData\",\"rowLevelSecurityFilter\":\"('Owner_ID' == \\\"$User.Id\\\" && ('Type' != \\\"ForecastAmount\\\")) || 'Manager.Managers' == \\\"$User.Id\\\"\",\"runtime\":{\"SFDCtoken\":\"SFDCtoken\"}},\"sources\":[\"join(ForecastingDataWithFlattenForecastHierarchy)\"]},\"Trim_PrepareCurrencyTypeForAppend_MCOnly\":{\"action\":\"sliceDataset\",\"parameters\":{\"fields\":[{\"name\":\"IsoCode\"},{\"name\":\"IsActive\"}],\"mode\":\"drop\"},\"sources\":[\"PrepareCurrencyTypeForAppend_MCOnly\"]},\"Extract_ForecastingPrediction\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Amount\"},{\"name\":\"ForecastOwnerId\"},{\"name\":\"ForecastingTypeId\"},{\"name\":\"PeriodId\"},{\"name\":\"AmountHigherBound\"},{\"name\":\"AmountLowerBound\"}],\"object\":\"ForecastingPrediction\"}},\"CompareLastCreatedDate_FirstDay\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"defaultValue\":\"\\\"false\\\"\",\"label\":\"IsSameCreatedDate_FirstDay\",\"name\":\"IsSameCreatedDate_FirstDay\",\"saqlExpression\":\"case when EarliestCreatedDate_FirstDay == LastCreatedDate_FirstDay then \\\"true\\\" else \\\"false\\\" end\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"GroupItemHistoryPerDay_FirstDay\"]},\"join(ForecastingItem, Period)\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"PeriodId\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"PeriodId\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"EndDate\",\"StartDate\"]},\"sources\":[\"Filter_ForecastingItem\",\"Extract_Period\"]},\"CompareFirstCreatedDate_FirstDay\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"defaultValue\":\"\\\"false\\\"\",\"label\":\"IsSameCreatedDate_FirstDay\",\"name\":\"IsSameCreatedDate_FirstDay\",\"saqlExpression\":\"case when CreatedDate == FirstCreatedDate_FirstDay then \\\"true\\\" else \\\"false\\\" end\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"GenerateFirstCreatedDateColumn_FirstDay\"]},\"NormalizeFirstDayOfMonth_FirstDay\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"format\":\"yyyy-MM-dd HH:mm:ss\",\"label\":\"EarliestCreatedDate_FirstDay\",\"name\":\"EarliestCreatedDate_FirstDay\",\"saqlExpression\":\"toDate(\\\"1900-01-01 00:00:00\\\",\\\"yyyy-MM-dd HH:mm:ss\\\")\",\"type\":\"Date\"},{\"label\":\"AmountWithoutManagerAdjustment_hst\",\"name\":\"AmountWithoutManagerAdjustment_hst\",\"precision\":18,\"saqlExpression\":\"0\",\"scale\":5,\"type\":\"Numeric\"},{\"label\":\"ForecastAmount_hst\",\"name\":\"ForecastAmount_hst\",\"precision\":18,\"saqlExpression\":\"0\",\"scale\":5,\"type\":\"Numeric\"}],\"mergeWithSource\":true},\"sources\":[\"filterOutDaysBeforeHTEnablement_FirstDay\"]},\"Extract_Period\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"EndDate\"},{\"name\":\"Id\"},{\"name\":\"FullyQualifiedLabel\"},{\"name\":\"StartDate\"},{\"name\":\"Type\"}],\"object\":\"Period\"}},\"append_ForecastingItemHistory_FirstDayOfMonth_FirstDay\":{\"action\":\"append\",\"parameters\":{},\"sources\":[\"GenerateAsOfDateColumn_FirstDay\",\"NormalizeFirstDayOfMonth_FirstDay\"]},\"Extract_ForecastingPredictionTrend\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Amount\"},{\"name\":\"ForecastingPredictionTrendType\"},{\"name\":\"PeriodId\"},{\"name\":\"AsOfDate\"},{\"name\":\"ForecastingTypeId\"},{\"name\":\"ForecastOwnerId\"},{\"name\":\"AmountHigherBound\"},{\"name\":\"AmountLowerBound\"}],\"object\":\"ForecastingPredictionTrend\"}},\"Filter_join(ForecastingItemHistory,ForecastingItem,Period)\":{\"action\":\"filter\",\"parameters\":{\"filter\":\"Parent.ForecastingTypeId:EQ:0Db2w000008qZO1CAM\"},\"sources\":[\"join(ForecastingItemHistory,ForecastingItem,Period)\"]},\"GenerateFirstCreatedDateColumn_FirstDay\":{\"action\":\"computeRelative\",\"parameters\":{\"computedFields\":[{\"expression\":{\"offset\":\"first()\",\"sourceField\":\"Parent.PeriodId.StartDate\",\"default\":\"current()\"},\"label\":\"AsOfDate_FirstDay\",\"name\":\"AsOfDate_FirstDay\"},{\"expression\":{\"offset\":\"first()\",\"sourceField\":\"CreatedDate\",\"default\":\"current()\"},\"label\":\"FirstCreatedDate_FirstDay\",\"name\":\"FirstCreatedDate_FirstDay\"}],\"orderBy\":[{\"direction\":\"asc\",\"name\":\"CreatedDate\"}],\"partitionBy\":[\"ParentId\"]},\"sources\":[\"Filter_join(ForecastingItemHistory,ForecastingItem,Period)\"]},\"PrepareCurrencyTypeForAppend_MCOnly\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"defaultValue\":\"2\",\"label\":\"SortOrder\",\"name\":\"SortOrder\",\"precision\":1,\"saqlExpression\":\"2\",\"scale\":0,\"type\":\"Numeric\"},{\"label\":\"Partition\",\"name\":\"Partition\",\"saqlExpression\":\"\\\"Partition1\\\"\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"ModifyCurrencyTypeIsoCode_MCOnly\"]},\"PrepareForecastingQuota\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"format\":\"yyyy-MM-dd\",\"label\":\"Date\",\"name\":\"Date\",\"saqlExpression\":\"toDate('Period.EndDate', \\\"yyyy-MM-dd\\\")\",\"type\":\"Date\"},{\"label\":\"Value\",\"name\":\"Value\",\"precision\":18,\"saqlExpression\":\"QuotaAmount\",\"scale\":5,\"type\":\"Numeric\"},{\"label\":\"Type\",\"name\":\"Type\",\"saqlExpression\":\"\\\"Quota\\\"\",\"type\":\"Text\"},{\"label\":\"Period_ID\",\"name\":\"Period_ID\",\"saqlExpression\":\"PeriodId\",\"type\":\"Text\"},{\"label\":\"ForecastingType_ID\",\"name\":\"ForecastingType_ID\",\"saqlExpression\":\"ForecastingTypeId\",\"type\":\"Text\"},{\"label\":\"Owner_ID\",\"name\":\"Owner_ID\",\"saqlExpression\":\"QuotaOwnerId\",\"type\":\"Text\"},{\"label\":\"Category\",\"name\":\"Category\",\"saqlExpression\":\"\\\"Quota\\\"\",\"type\":\"Text\"},{\"label\":\"ValueHigherBound\",\"name\":\"ValueHigherBound\",\"precision\":18,\"saqlExpression\":\"QuotaAmount\",\"scale\":5,\"type\":\"Numeric\"},{\"label\":\"ValueLowerBound\",\"name\":\"ValueLowerBound\",\"precision\":18,\"saqlExpression\":\"QuotaAmount\",\"scale\":5,\"type\":\"Numeric\"}],\"mergeWithSource\":false},\"sources\":[\"joinForecastingQuotaWithPeriod\"]},\"Filter_ForecastEnabled_Users\":{\"action\":\"filter\",\"parameters\":{\"filter\":\"ForecastEnabled:EQ:true\"},\"sources\":[\"Extract_Users\"]},\"Extract_UserRole\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Id\"},{\"name\":\"ParentRoleId\"},{\"name\":\"ForecastUserId\"}],\"object\":\"UserRole\"}},\"PreparePredictionTrend\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"format\":\"yyyy-MM-dd\",\"label\":\"Date\",\"name\":\"Date\",\"saqlExpression\":\"toDate(AsOfDate, \\\"yyyy-MM-dd\\\")\",\"type\":\"Date\"},{\"label\":\"Type\",\"name\":\"Type\",\"saqlExpression\":\"ForecastingPredictionTrendType\",\"type\":\"Text\"},{\"label\":\"Period_ID\",\"name\":\"Period_ID\",\"saqlExpression\":\"PeriodId\",\"type\":\"Text\"},{\"label\":\"Value\",\"name\":\"Value\",\"precision\":18,\"saqlExpression\":\"Amount\",\"scale\":5,\"type\":\"Numeric\"},{\"label\":\"ForecastingType_ID\",\"name\":\"ForecastingType_ID\",\"saqlExpression\":\"ForecastingTypeId\",\"type\":\"Text\"},{\"label\":\"Owner_ID\",\"name\":\"Owner_ID\",\"saqlExpression\":\"ForecastOwnerId\",\"type\":\"Text\"},{\"label\":\"Category\",\"name\":\"Category\",\"saqlExpression\":\"ForecastingPredictionTrendType\",\"type\":\"Text\"},{\"label\":\"ValueHigherBound\",\"name\":\"ValueHigherBound\",\"precision\":18,\"saqlExpression\":\"AmountHigherBound\",\"scale\":5,\"type\":\"Numeric\"},{\"label\":\"ValueLowerBound\",\"name\":\"ValueLowerBound\",\"precision\":18,\"saqlExpression\":\"AmountLowerBound\",\"scale\":5,\"type\":\"Numeric\"}],\"mergeWithSource\":false},\"sources\":[\"Filter_ForecastingPredictionTrend\"]},\"Filter_AnalyticsUser_MCOnly\":{\"action\":\"filter\",\"parameters\":{\"filter\":\"Id:EQ:0052w00000FzcIVAAZ\"},\"sources\":[\"Extract_Users\"]},\"AppendCurrency_MCOnly\":{\"action\":\"append\",\"parameters\":{},\"sources\":[\"Trim_PrepareAnalyticsUserForAppend_MCOnly\",\"Trim_PrepareCurrencyTypeForAppend_MCOnly\"]},\"NormalizeAmountWithoutManagerAdjustment\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"format\":\"yyyy-MM-dd\",\"label\":\"Date\",\"name\":\"Date\",\"saqlExpression\":\"toDate(AsOfDate_FirstDay, \\\"yyyy-MM-dd\\\")\",\"type\":\"Date\"},{\"label\":\"Value\",\"name\":\"Value\",\"precision\":18,\"saqlExpression\":\"AmountWithoutManagerAdjustment_hst\",\"scale\":5,\"type\":\"Numeric\"},{\"label\":\"Type\",\"name\":\"Type\",\"saqlExpression\":\"\\\"AmountWithoutManagerAdjustment\\\"\",\"type\":\"Text\"},{\"label\":\"Period_ID\",\"name\":\"Period_ID\",\"saqlExpression\":\"'Parent.PeriodId'\",\"type\":\"Text\"},{\"label\":\"ForecastingType_ID\",\"name\":\"ForecastingType_ID\",\"saqlExpression\":\"'Parent.ForecastingTypeId'\",\"type\":\"Text\"},{\"label\":\"Owner_ID\",\"name\":\"Owner_ID\",\"saqlExpression\":\"'Parent.OwnerId'\",\"type\":\"Text\"},{\"label\":\"Category\",\"name\":\"Category\",\"saqlExpression\":\"'Parent.ForecastingItemCategory'\",\"type\":\"Text\"},{\"label\":\"ValueHigherBound\",\"name\":\"ValueHigherBound\",\"precision\":18,\"saqlExpression\":\"AmountWithoutManagerAdjustment_hst\",\"scale\":5,\"type\":\"Numeric\"},{\"label\":\"ValueLowerBound\",\"name\":\"ValueLowerBound\",\"precision\":18,\"saqlExpression\":\"AmountWithoutManagerAdjustment_hst\",\"scale\":5,\"type\":\"Numeric\"}],\"mergeWithSource\":false},\"sources\":[\"RemoveLastCreatedDateColumn_FirstDay\"]},\"filterOutDaysBeforeHTEnablement_FirstDay\":{\"action\":\"filter\",\"parameters\":{\"filter\":\"AsOfDate_FirstDay:R:2020-09-18\"},\"sources\":[\"RemoveFirstCreatedDateColumn_FirstDay\"]}}}",null]